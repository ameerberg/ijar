# ijar.ps - منصة تأجير السيارات الفلسطينية

<div dir="rtl">

## 🚗 نظرة عامة

**ijar.ps** هي منصة حديثة لتأجير السيارات في فلسطين، مصممة خصيصاً للسوق الفلسطيني مع دعم كامل للغة العربية وتخطيط RTL.

### ✨ المميزات الرئيسية

- 🌍 **مدن الضفة الغربية**: دعم جميع المدن الفلسطينية الرئيسية
- 📱 **مصادقة بالهاتف**: تسجيل دخول بأرقام هواتف فلسطينية (+972)
- 🔐 **خيارات مصادقة متعددة**: OTP (SMS) أو كلمة مرور
- 🎨 **تصميم عربي**: خط Cairo الحديث مع RTL كامل
- 📱 **محسّن للهاتف**: تجربة ممتازة على جميع الأجهزة
- 🟢 **لون فلسطيني**: تصميم بالأخضر الزمردي

---

## 🚀 البدء السريع

### التثبيت

```bash
# استنساخ المشروع
git clone [repository-url]
cd project

# تثبيت المكتبات
npm install

# تشغيل المشروع
npm run dev

# بناء للإنتاج
npm run build
```

### متطلبات التشغيل

- Node.js 18+ ✅
- npm أو yarn ✅
- حساب Supabase ✅ (موجود ومُعَد)
- حساب Twilio (اختياري - للـ OTP)

---

## 📁 هيكل المشروع

```
ijar.ps/
├── src/
│   ├── components/          # المكونات
│   │   ├── Header.tsx      # الترويسة
│   │   ├── SearchBar.tsx   # شريط البحث
│   │   ├── CarCard.tsx     # بطاقة السيارة
│   │   └── ...
│   ├── pages/              # الصفحات
│   │   ├── HomePage.tsx    # الصفحة الرئيسية
│   │   ├── SignUpPage.tsx  # التسجيل
│   │   ├── LoginPage.tsx   # تسجيل الدخول
│   │   └── ...
│   ├── contexts/           # السياقات
│   │   └── AuthContext.tsx # سياق المصادقة
│   ├── constants/          # الثوابت
│   │   └── cities.ts       # مدن الضفة
│   ├── lib/               # المكتبات
│   │   └── supabase.ts    # عميل Supabase
│   └── types/             # الأنواع
│       └── database.ts    # أنواع قاعدة البيانات
├── supabase/
│   └── migrations/        # هجرات قاعدة البيانات
├── docs/                  # الوثائق
├── index.html            # الصفحة الرئيسية
└── package.json          # تبعيات المشروع
```

---

## 🗄️ قاعدة البيانات

### الجداول الرئيسية

1. **profiles** - معلومات المستخدمين
2. **cars** - السيارات المتاحة
3. **bookings** - الحجوزات
4. **reviews** - التقييمات
5. **messages** - الرسائل
6. **favorites** - المفضلة

### الهجرة الموجودة

```sql
supabase/migrations/20250930000000_create_turo_clone_schema.sql
```

هذه الهجرة تحتوي على:
- ✅ جميع الجداول
- ✅ Row Level Security (RLS)
- ✅ السياسات الأمنية
- ✅ الفهارس (Indexes)

---

## 🔐 المصادقة

### الطرق المدعومة

#### 1. كلمة المرور (جاهز 100%)

```typescript
// التسجيل
await signUp('+972591234567', 'password123', 'أحمد محمد');

// تسجيل الدخول
await signIn('+972591234567', 'password123');
```

#### 2. OTP عبر SMS (يحتاج إعداد Twilio)

```typescript
// إرسال رمز التحقق
await signInWithOTP('+972591234567');

// التحقق من الرمز
await verifyOTP('+972591234567', '123456');
```

### تنسيقات الأرقام المدعومة

```
0591234567     ✅
+972591234567  ✅
972591234567   ✅
591234567      ✅
```

جميعها تُحوّل تلقائياً إلى: `+972591234567`

---

## 🌍 المدن المدعومة

### مدن الضفة الغربية

- رام الله
- نابلس
- الخليل
- بيت لحم
- أريحا
- جنين
- طولكرم
- قلقيلية
- سلفيت
- طوباس
- القدس

**لإضافة مدن جديدة**:
عدّل `src/constants/cities.ts`

---

## 📱 تحسينات الهاتف المحمول

### المطبق حالياً

✅ Responsive design لجميع الشاشات
✅ أزرار كبيرة (44px+ للمس السهل)
✅ خطوط واضحة وقابلة للقراءة
✅ تخطيط عمودي على الهواتف
✅ نماذج محسّنة للهاتف
✅ دعم RTL كامل

### Breakpoints

- **Mobile**: < 640px
- **Tablet**: 640px - 1024px
- **Desktop**: > 1024px

---

## 🎨 التخصيص

### تغيير الألوان

الألوان الحالية: Emerald (أخضر زمردي)

لتغيير اللون الأساسي:

```bash
# استبدل emerald بلون آخر
find src -type f -name "*.tsx" -exec sed -i 's/emerald-600/blue-600/g' {} \;
```

### تغيير الخط

الخط الحالي: **Cairo**

في `index.html`:
```html
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;600;700&display=swap" rel="stylesheet">
```

في `src/index.css`:
```css
body {
  font-family: 'Tajawal', sans-serif;
}
```

### تغيير اسم المنصة

ابحث واستبدل `ijar.ps` في جميع الملفات.

---

## 📚 الوثائق

### الملفات المتوفرة

1. **CUSTOMIZATION_GUIDE.md** 📝
   - كيفية تخصيص الألوان والخطوط
   - إضافة مدن جديدة
   - تغيير التصميم

2. **AUTHENTICATION_SETUP.md** 🔐
   - شرح كامل للمصادقة
   - إعداد Twilio للـ OTP
   - استكشاف الأخطاء

3. **MOBILE_OPTIMIZATION.md** 📱
   - تفاصيل التحسينات
   - أمثلة وأكواد
   - أدوات الاختبار

4. **DATABASE_SCHEMA.md** 🗄️
   - هيكل قاعدة البيانات
   - الجداول والعلاقات
   - السياسات الأمنية

---

## 🛠️ البناء والنشر

### بناء محلي

```bash
npm run build
```

### معاينة البناء

```bash
npm run preview
```

### النشر

المشروع جاهز للنشر على:
- **Vercel** ⚡ (موصى به)
- **Netlify** 🌐
- **AWS Amplify** ☁️
- **GitHub Pages** 📄

---

## ✅ الحالة الحالية

### ما يعمل الآن (100%)

- ✅ واجهة عربية كاملة
- ✅ تخطيط RTL
- ✅ تسجيل بكلمة مرور
- ✅ تسجيل دخول بكلمة مرور
- ✅ قاعدة بيانات Supabase
- ✅ أمان RLS
- ✅ مدن الضفة الغربية
- ✅ محسّن للهاتف
- ✅ تصميم احترافي

### يحتاج إعداد (اختياري)

- ⚠️ OTP عبر SMS (Twilio)
- ⚠️ صور سيارات حقيقية
- ⚠️ محتوى الصفحة الرئيسية

---

## 🔧 الصيانة

### تحديث المكتبات

```bash
npm update
```

### إصلاح المشاكل

```bash
npm run build
```

إذا ظهرت أخطاء، راجع:
1. ملفات الوثائق
2. `npm install` لإعادة تثبيت المكتبات
3. تحقق من `.env` للمتغيرات البيئية

---

## 💡 نصائح مهمة

### للمطورين الجدد

1. ابدأ بقراءة `CUSTOMIZATION_GUIDE.md`
2. جرب التسجيل بكلمة مرور أولاً
3. اختبر على الهاتف المحمول
4. راجع أكواد الـ Components للتعلم

### للإنتاج

1. فعّل OTP إذا أردت (Twilio)
2. أضف صور سيارات حقيقية
3. اختبر جميع الميزات
4. راجع أمان قاعدة البيانات

---

## 📞 الدعم

### موارد مفيدة

- React: https://react.dev
- Tailwind CSS: https://tailwindcss.com
- Supabase: https://supabase.com/docs
- Twilio: https://www.twilio.com/docs

### المشاكل الشائعة

راجع `AUTHENTICATION_SETUP.md` قسم "استكشاف الأخطاء"

---

## 📄 الترخيص

هذا المشروع لأغراض تعليمية وتطويرية.

---

## 🌟 المساهمة

نرحب بالمساهمات! افتح Pull Request أو Issue على GitHub.

---

## 🎯 الخطوات التالية

1. [ ] إعداد Twilio للـ OTP
2. [ ] إضافة محتوى الصفحة الرئيسية
3. [ ] تخصيص الألوان والشعار
4. [ ] إضافة سيارات حقيقية
5. [ ] اختبار شامل
6. [ ] النشر!

---

صُنع بـ ❤️ لفلسطين

</div>